<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core">

<h:outputStylesheet library="css" name="bootstrap.min1.css" />
<h:outputStylesheet library="css" name="bootstrap.css" />
<h:outputStylesheet library="css" name="custom-style.css" />
<head>
<meta http-equiv="Content-Type" content="text/html" />

<title>Dodaj postavke</title>
</head>
<h:body>
	<ui:composition template="/resources/templateBanka.xhtml">
		<ui:define name="content">
			<h:form>
				<h1 class="display-1 hidden-xs-down">Dodaj račun</h1>
				<div class="row" style="margin-bottom: 5px;">
				
							<div class="panel">
							<h:commandButton class="btn" action="#{upravljanjeERacuna.dodajVrstico()}" value="Dodaj postavko"></h:commandButton>
							<div class="panel-body table-responsive">

					    		 <h:dataTable value="#{upravljanjeERacuna.postavke}" var="p"> 
					
					    			<h:column>
					    				<f:facet name="header">Vsota storitev/blaga</f:facet>
					    				<h:inputText id="storitev" value="#{p.storitev}" required="true" requiredMessage="Prosim vnesite storitev." validatorMessage="Neustrezena oblika storitve."/>
					    			<h:message for="storitev" />
					    			</h:column>
					    			<h:column>
					    				<f:facet name="header">Količina</f:facet>
					    				<h:inputText  id="kolicina" value="#{p.kolicina}" required="true" requiredMessage="Prosim vnesite količino." validatorMessage="Neustrezena oblika količine.">
					    				</h:inputText>
					    				<h:message for="kolicina" />
					    			</h:column>
					    			
					    			<h:column>
					    				<f:facet name="header">Enota mere</f:facet>
					    				<h:selectOneMenu id="enota" value="#{p.enota_mere}">
														            <f:selectItem itemValue="Mesec" itemLabel="Mesec" />
														            <f:selectItem itemValue="Kos" itemLabel="Kos" />			
										</h:selectOneMenu>
										<h:message for="enota" />
					    			</h:column>
					    			
					    			<h:column>
					    				<f:facet name="header">Cena na enoto bez DDV (€) </f:facet>
					    				<h:inputText id="cena" value="#{p.cena_na_enoto}" required="true" requiredMessage="Prosim vnesite ceno na enoto." validatorMessage="Neustrezena oblika cene na enoto.">
					    				</h:inputText>
					    				<h:message for="cena" />
					    			</h:column>
					    			<h:column>
					    				<f:facet name="header">Popust (%) </f:facet>
					    				<h:inputText id="popust" value="#{p.popust}" required="true" requiredMessage="Prosim vnesite popust." validatorMessage="Neustrezena oblika popusta.">
					    				</h:inputText>
					    				<h:message for="popust" />
					    			</h:column>
					    			<h:column>
					    				<f:facet name="header">Znesek popusta (€) </f:facet>
					    				<h:inputText id="zPopust" value="#{p.znesek_popusta}" required="true" requiredMessage="Prosim vnesite znesek popusta." validatorMessage="Neustrezena oblika zneska popusta.">
					    				</h:inputText>
					    				<h:message for="zPopust" />
					    			</h:column>
					    			<h:column>
					    				<f:facet name="header">DDV (%) </f:facet>
					    				<h:inputText id="ddv" value="#{p.ddv}" required="true" requiredMessage="Prosim vnesite DDV." validatorMessage="Neustrezena oblika DDV-ja.">
					    				</h:inputText>
					    				<h:message for="ddv" />
					    			</h:column>
					    			<h:column>
					    				<f:facet name="header">Vrednost z DDV (€) </f:facet>
					    				<h:inputText id="vrednost" value="#{p.vrednostZddv}" required="true" requiredMessage="Prosim vnesite vrednost z DDV." validatorMessage="Neustrezena oblika vrednosti z DDV-jem.">
					    				</h:inputText>
					    				<h:message for="vrednost" />
					    			</h:column>
					    			<h:column>
					    				<h:commandButton class="btn" action="#{upravljanjeERacuna.izbrisi(p)}" value="Izbriši"></h:commandButton>
					    			</h:column>
					    		
					    		</h:dataTable>	
								 <br/>
								 <br/>
								 <br/>
								 <table>
									 <tbody> 
										<tr class="order-table-odd-row" style="margin-left:50px;"> 
											<td>Skupen znesek brez DDV </td> 
											<td><h:inputText value="200" disabled="true"/></td> 
										</tr>
										<tr>	
											<td>Vsota zneskov popustov </td> 
											<td><h:inputText value="400" disabled="true"/></td> 
										</tr> 
										<tr>	
											<td>Osnova za DDV (22%) </td> 
											<td><h:inputText value="22" disabled="true"/></td> 
										</tr> 
										<tr>	
											<td>Obračun 22% DDV </td> 
											<td><h:inputText value="100" disabled="true"/></td> 
										</tr>
										<tr>	
											<td>Vsota zneskov DDV </td> 
											<td><h:inputText value="200" disabled="true"/></td> 
										</tr>
										<tr>	
											<td><bold>SKUPAJ za plačilo </bold></td> 
											<td><bold><h:inputText value="500" disabled="true"/></bold></td> 
										</tr>    
									  </tbody> 
								 </table> 
                 		 </div>
					</div>
				<div class="row">
						<div class="col-md-12">
							<div class="vpisGumb">
								<h:commandButton class="btn" value="Shrani" id="submit"
									action="#{upravljanjeERacuna.shraniERacun()}"></h:commandButton>
							</div>
						</div>
					</div>
				</div>
			</h:form>
		</ui:define>
	</ui:composition>
</h:body>
</html>